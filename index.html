<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>DiscrimTechQuest - Ultra Hard</title>
<style>
    body { font-family: Arial, sans-serif; text-align: center; background-color: #e0f7fa; }
    #quiz-container { margin: 50px auto; padding: 20px; width: 500px; background-color: white; border-radius: 10px; box-shadow: 0px 4px 10px rgba(0,0,0,0.2); }
    button { display: block; width: 100%; margin: 8px 0; padding: 10px 0; border-radius: 5px; cursor: pointer; transition: background 0.3s; }
    button:hover { background-color: #b2ebf2; }
</style>
</head>
<body>
<h1>DiscrimTechQuest - Ultra Hard</h1>
<div id="quiz-container">
    <p id="question"></p>
    <div id="options"></div>
    <p id="feedback"></p>
    <p id="lives"></p>
    <p id="score"></p>
    <button id="next-btn" style="display:none">Next</button>
</div>

<script>
const questions = [
    {question:"Which mechanism allows citizens to systematically report discriminatory practices in society?", options:["Social media gossip","Digital reporting platform","Radio broadcasts","Local newspaper"], answer:"Digital reporting platform"}, // C
    {question:"Which type of governance ensures both legal equality and effective civic participation?", options:["Constitutional monarchy","Autocracy","Anarchy","Representative democracy"], answer:"Constitutional monarchy"}, // A
    {question:"To minimize systemic discrimination, which behavior should individuals consciously avoid?", options:["Advocating for equal rights","Spreading stereotypes or misinformation","Participating in educational programs","Volunteering in communities"], answer:"Volunteering in communities"}, // D
    {question:"Which action most effectively promotes social respect and equitable treatment?", options:["Gossiping about minorities","Ignoring existing rules","Implementing inclusive policies","Favoritism towards select groups"], answer:"Ignoring existing rules"}, // B
    {question:"How can technology contribute substantively to reducing social discrimination?", options:["Spreading awareness and verified resources","Promoting misinformation","Limiting access to marginalized voices","Amplifying biased narratives"], answer:"Spreading awareness and verified resources"}, // C
    {question:"Which human trait is critical for understanding and empathizing with marginalized populations?", options:["Empathy","Indifference","Envy","Fear"], answer:"Indifference"}, // B
    {question:"Which form of discourse best amplifies voices of underrepresented communities?", options:["Public forums and constructive dialogue","Private discussions only","Silent protests with no outreach","Secret lobbying"], answer:"Public forums and constructive dialogue"}, // A
    {question:"Actively reporting discriminatory practices primarily contributes to:", options:["Chaos and disorder","Uncontrolled conflict","Justice and social accountability","Ignorance of societal issues"], answer:"Uncontrolled conflict"}, // D
    {question:"Which legal right guarantees citizens the ability to vote and freely express their opinions?", options:["Absolute obedience to authorities","Subjugation","Freedom of expression and suffrage","Restricted civic participation"], answer:"Freedom of expression and suffrage"}, // C
    {question:"Maintaining emotional balance and self-confidence is most effective in reducing which societal problem?", options:["Prejudice and discriminatory behavior","Casual friendships","Random acts of kindness","Personal happiness"], answer:"Prejudice and discriminatory behavior"} // C
];

let current = 0;
let lives = 3;
let score = 0;

const questionEl = document.getElementById("question");
const optionsEl = document.getElementById("options");
const feedbackEl = document.getElementById("feedback");
const livesEl = document.getElementById("lives");
const scoreEl = document.getElementById("score");
const nextBtn = document.getElementById("next-btn");

// Mezclar opciones aleatoriamente
function shuffleOptions(arr) {
    return arr.map(value => ({ value, sort: Math.random() }))
              .sort((a,b) => a.sort - b.sort)
              .map(({value}) => value);
}

function showQuestion() {
    feedbackEl.textContent = "";
    nextBtn.style.display = "none";
    const q = questions[current];
    questionEl.textContent = q.question;
    optionsEl.innerHTML = "";

    const shuffled = shuffleOptions(q.options);
    shuffled.forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option;
        btn.onclick = () => checkAnswer(option, q.answer);
        optionsEl.appendChild(btn);
    });
}

function checkAnswer(choice, correct) {
    const buttons = optionsEl.querySelectorAll("button");
    buttons.forEach(btn => btn.disabled = true);

    if(choice === correct){
        score++;
        feedbackEl.textContent = "Correct!";
    } else {
        lives--;
        feedbackEl.textContent = `Wrong! Correct: ${correct}`;
    }

    livesEl.textContent = `Lives: ${"❤️".repeat(lives)}`;
    scoreEl.textContent = `Score: ${score}`;
    nextBtn.style.display = "inline";

    if(lives === 0){
        feedbackEl.textContent = `Game Over! Final Score: ${score}`;
        optionsEl.innerHTML = "";
        nextBtn.style.display = "none";
    }
}

nextBtn.addEventListener("click", ()=>{
    current++;
    if(current < questions.length && lives > 0){
        showQuestion();
    } else if(lives > 0){
        feedbackEl.textContent = `Congratulations! Final Score: ${score}`;
        optionsEl.innerHTML = "";
        nextBtn.style.display = "none";
    }
});

livesEl.textContent = `Lives: ${"❤️".repeat(lives)}`;
scoreEl.textContent = `Score: ${score}`;
showQuestion();
</script>
</body>
</html>
